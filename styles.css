:root {
  --correct: #2ECC71;
  --present: #F4C542;
  --absent: #9AA0A6;
  --reveal-outline: #4A90E2;
  --error: #E74C3C;
  --p1: #4A90E2;
  --p2: #9B59B6;
  --bg: #0f1115;
  --panel: #161922;
  --text: #e8ecf1;
  --muted: #b6bdc6;
  --border: #ffffff;
}

/* Light mode base (will be overridden by .light on body) */
body {
  margin: 0; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  background: var(--bg); color: var(--text);
}
body.light { --bg:#ffffff; --panel:#f6f7f9; --text:#20242a; --muted:#4d5560; --border:#000; }

.topbar { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:0.75rem 1rem; background:var(--panel); position:sticky; top:0; z-index:5; border-bottom:1px solid rgba(255,255,255,0.1); }
.topbar h1 { margin:0; font-size:1.25rem; letter-spacing:0.5px; }
.controls { display:flex; gap:0.5rem; flex-wrap:wrap; align-items:center; }
.controls label { font-size:0.85rem; display:flex; gap:0.25rem; align-items:center; background:rgba(255,255,255,0.04); padding:0.35rem 0.5rem; border-radius:0.6rem; }
.controls select, .controls input { font-size:0.9rem; padding:0.3rem 0.4rem; border-radius:0.4rem; border:1px solid rgba(127,127,127,0.35); background:transparent; color:inherit; }
.controls button { padding:0.45rem 0.6rem; border-radius:0.6rem; border:1px solid rgba(127,127,127,0.35); background:transparent; color:inherit; cursor:pointer; }

main { max-width:820px; margin:0 auto; padding:1rem; }
.banner { padding:0.6rem 0.9rem; margin:0.5rem 0 1rem; border:2px solid var(--border); border-radius:0.8rem; text-align:center; font-weight:600; }
.banner.p1 { background: color-mix(in oklab, var(--p1) 18%, transparent); box-shadow: 0 0 0 3px color-mix(in oklab, var(--p1) 40%, transparent) inset; }
.banner.p2 { background: color-mix(in oklab, var(--p2) 18%, transparent); box-shadow: 0 0 0 3px color-mix(in oklab, var(--p2) 40%, transparent) inset; }

.grid { display:grid; gap:8px; justify-content:center; margin:0 auto 1rem; }
.row { display:grid; gap:8px; }

.tile { width:52px; height:52px; display:flex; align-items:center; justify-content:center; font-weight:800; font-size:1.25rem; text-transform:uppercase; border:2px solid var(--border); border-radius:10px; background:var(--panel); position:relative; }
.tile:after { content:""; position:absolute; inset:0; border-radius:10px; pointer-events:none; }
.tile.locked { outline:3px dashed var(--reveal-outline); }

/* Status colors + color-blind marks */
.tile.correct { background: var(--correct); color:#000; }
.tile.correct::after { content:"✓"; display:flex; align-items:center; justify-content:center; font-weight:900; font-size:0.9rem; color:#000; }
.tile.present { background: var(--present); color:#000; }
.tile.present::after { content:"•"; font-size:1.2rem; color:#000; }
.tile.absent { background: var(--absent); color:#000; }
.tile.absent::after { content:"×"; font-weight:900; color:#000; }

/* Player tint */
.grid.tint-p1 { background: color-mix(in oklab, var(--p1) 10%, transparent); padding:8px; border-radius:14px; }
.grid.tint-p2 { background: color-mix(in oklab, var(--p2) 10%, transparent); padding:8px; border-radius:14px; }

.message { min-height:24px; text-align:center; font-weight:600; margin:0.25rem 0 0.75rem; }
.actions { display:flex; gap:0.5rem; justify-content:center; margin-bottom:1rem; }
.primary { background:var(--p1); color:white; border:none; padding:0.6rem 0.9rem; border-radius:0.8rem; font-weight:700; cursor:pointer; }
.secondary { background:transparent; border:1px solid rgba(127,127,127,0.35); color:inherit; padding:0.6rem 0.9rem; border-radius:0.8rem; cursor:pointer; }

.keyboard { display:grid; gap:6px; max-width:640px; margin:0 auto; grid-template-columns: repeat(10, 1fr); }
.key { user-select:none; text-transform:uppercase; padding:0.6rem 0.2rem; border:1px solid rgba(127,127,127,0.35); border-radius:10px; background:var(--panel); text-align:center; font-weight:700; cursor:pointer; box-shadow:0 0 0 0 transparent; }
.key.wide { grid-column: span 2; }
.key.correct { background: var(--correct); color:#000; box-shadow: 0 0 10px 1px var(--correct); }
.key.present { background: var(--present); color:#000; box-shadow: 0 0 10px 1px var(--present); }
.key.absent { background: var(--absent); color:#000; }
.key.p1glow { box-shadow: 0 0 12px 2px color-mix(in oklab, var(--p1) 60%, transparent); }
.key.p2glow { box-shadow: 0 0 12px 2px color-mix(in oklab, var(--p2) 60%, transparent); }

.scoreboard .card { background:var(--panel); padding:1rem; border-radius:14px; }
.scoreboard table { width:100%; border-collapse:collapse; font-size:0.95rem; }
.scoreboard th, .scoreboard td { border-bottom:1px dashed rgba(127,127,127,0.35); padding:0.5rem; text-align:center; }

.foot { text-align:center; padding:1rem; color:var(--muted); }

/* Animations */
@keyframes flip {
  0% { transform: rotateX(0); }
  45% { transform: rotateX(90deg); }
  55% { transform: rotateX(90deg); }
  100% { transform: rotateX(0); }
}
.tile.flip { animation: flip 450ms ease both; transform-style: preserve-3d; }

@keyframes shake {
  10%, 90% { transform: translateX(-2px); }
  20%, 80% { transform: translateX(4px); }
  30%, 50%, 70% { transform: translateX(-8px); }
  40%, 60% { transform: translateX(8px); }
}
.row.shake { animation: shake 500ms ease; }

.error { color: var(--error); }

/* Responsive */
@media (max-width: 480px) {
  .tile { width:44px; height:44px; font-size:1.1rem; }
}v
